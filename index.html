<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>NCIS - Portail Interne</title>
<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #0b0f16;
    color: white;
    display: flex;
}
.sidebar {
    width: 230px;
    background: #111722;
    padding: 20px;
    height: 100vh;
}
.sidebar h2 {
    margin-bottom: 20px;
    font-size: 18px;
    text-align: center;
}
.nav-item {
    padding: 10px;
    margin-bottom: 8px;
    background: #1a2233;
    cursor: pointer;
    border-radius: 6px;
}
.nav-item:hover, .nav-item.active {
    background: #24314a;
}
.main {
    flex: 1;
    padding: 20px;
}
.section {
    display: none;
}
.section.active {
    display: block;
}
.panel {
    background: #141b29;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
}
button {
    padding: 8px 12px;
    background: #1e90ff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    color: white;
}
button:hover {
    background: #3aa0ff;
}
input {
    padding: 6px;
    width: 100%;
    margin-bottom: 8px;
    border-radius: 4px;
    border: none;
}
table {
    width: 100%;
    border-collapse: collapse;
}
th, td {
    padding: 8px;
    border-bottom: 1px solid #333;
}
</style>
</head>
<body>

<div class="sidebar">
    <h2>NCIS PORTAL</h2>
    <div class="nav-item active" data-section="dashboard">Tableau de bord</div>
    <div class="nav-item" data-section="cases">Affaires</div>
    <div class="nav-item" data-section="agents">Agents</div>
    <div class="nav-item" data-section="messages">Messages</div>
</div>

<div class="main">

    <!-- DASHBOARD -->
    <div id="dashboard" class="section active">
        <div class="panel">
            <h3>Bienvenue Agent</h3>
            <p>Portail interne NCIS – Accès restreint.</p>
        </div>
    </div>

    <!-- AFFAIRES -->
    <div id="cases" class="section">
        <div class="panel">
            <h3>Affaires NCIS</h3>
            <button onclick="openCaseForm()">Ajouter une affaire</button>
        </div>

        <div id="caseForm" class="panel" style="display:none;">
            <h4>Nouvelle affaire</h4>
            <input id="caseRef" placeholder="Référence (ex : NCIS-24-001)">
            <input id="caseType" placeholder="Type d'affaire">
            <input id="caseAgent" placeholder="Agent référent">
            <button onclick="addCase()">Ajouter</button>
        </div>

        <table id="casesTable">
            <thead>
                <tr>
                    <th>Référence</th>
                    <th>Type</th>
                    <th>Agent</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <!-- AGENTS -->
    <div id="agents" class="section">
        <div class="panel">
            <h3>Agents NCIS</h3>
            <button onclick="openAgentForm()">Ajouter un agent</button>
        </div>

        <div id="agentForm" class="panel" style="display:none;">
            <h4>Nouvel agent</h4>
            <input id="agentName" placeholder="Nom complet">
            <input id="agentRole" placeholder="Rôle / spécialité">
            <button onclick="addAgent()">Ajouter</button>
        </div>

        <table id="agentsTable">
            <thead>
                <tr>
                    <th>Nom</th>
                    <th>Rôle</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <!-- MESSAGES -->
    <div id="messages" class="section">
        <div class="panel">
            <h3>Messages internes</h3>
            <p>Aucun nouveau message.</p>
        </div>
    </div>

</div>

<script>
// Navigation
document.querySelectorAll('.nav-item').forEach(item => {
    item.onclick = () => {
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        item.classList.add('active');

        document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
        document.getElementById(item.dataset.section).classList.add('active');
    };
});

// AFFAIRES
function openCaseForm() {
    document.getElementById('caseForm').style.display = 'block';
}
function addCase() {
    const ref = document.getElementById('caseRef').value;
    const type = document.getElementById('caseType').value;
    const agent = document.getElementById('caseAgent').value;

    if (!ref || !type || !agent) return alert("Complète tous les champs");

    const row = `<tr><td>${ref}</td><td>${type}</td><td>${agent}</td></tr>`;
    document.querySelector('#casesTable tbody').innerHTML += row;

    document.getElementById('caseForm').style.display = 'none';
}

// AGENTS
function openAgentForm() {
    document.getElementById('agentForm').style.display = 'block';
}
function addAgent() {
    const name = document.getElementById('agentName').value;
    const role = document.getElementById('agentRole').value;

    if (!name || !role) return alert("Complète tous les champs");

    const row = `<tr><td>${name}</td><td>${role}</td></tr>`;
    document.querySelector('#agentsTable tbody').innerHTML += row;

    document.getElementById('agentForm').style.display = 'none';
}
</script>

</body>
</html>
